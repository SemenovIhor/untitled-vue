{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-71b852f6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"reviews\"\n};\nconst _hoisted_2 = {\n  class: \"reviews__heading\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"reviews__title\"\n}, \"Суммарный рейтинг\", -1));\nconst _hoisted_4 = {\n  class: \"reviews__rating\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_StarRating = _resolveComponent(\"StarRating\");\n  const _component_ReviewsItem = _resolveComponent(\"ReviewsItem\");\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", null, _toDisplayString($options.amountOfReviews) + \" отзыва(ов)\", 1), _createVNode(_component_StarRating, {\n    rating: $options.totalRating\n  }, null, 8, [\"rating\"])])]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.currentReview, review => {\n    return _openBlock(), _createBlock(_component_ReviewsItem, {\n      key: review.author,\n      review: review\n    }, null, 8, [\"review\"]);\n  }), 128)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleReviews && $options.toggleReviews(...args)),\n    class: \"reviews__show-more\"\n  }, _toDisplayString($options.buttonText), 1)]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$options","amountOfReviews","_createVNode","_component_StarRating","rating","totalRating","_Fragment","_renderList","currentReview","review","_createBlock","_component_ReviewsItem","key","author","onClick","_cache","args","toggleReviews","buttonText"],"sources":["D:\\System\\Users\\Semenov\\Documents\\GitHub\\untitled-vue\\src\\components\\reviews\\index.vue"],"sourcesContent":["<template>\r\n  <section class=\"reviews\">\r\n    <div class=\"reviews__heading\">\r\n      <h2 class=\"reviews__title\">Суммарный рейтинг</h2>\r\n      <div class=\"reviews__rating\">\r\n        <span>{{ amountOfReviews }} отзыва(ов)</span>\r\n        <StarRating :rating=\"totalRating\" />\r\n      </div>\r\n    </div>\r\n    <ReviewsItem\r\n      v-for=\"review in currentReview\"\r\n      :key=\"review.author\"\r\n      :review=\"review\"\r\n    />\r\n    <button @click=\"toggleReviews\" class=\"reviews__show-more\">\r\n      {{ buttonText }}\r\n    </button>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport StarRating from \"../StarRating.vue\";\r\nimport ReviewsItem from \"./reviews-item\";\r\n\r\nexport default {\r\n  name: \"ReviewsItems\",\r\n  components: {\r\n    ReviewsItem,\r\n    StarRating,\r\n  },\r\n  props: {\r\n    reviews: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      reviewsLimit: 2,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    totalRating() {\r\n      const total = this.reviews.reduce(\r\n        (acc, review) => acc + review.rating,\r\n        0\r\n      );\r\n      return total / this.reviews.length;\r\n    },\r\n    amountOfReviews() {\r\n      return this.reviews.length;\r\n    },\r\n    currentReview() {\r\n      return this.reviews.slice(0, this.reviewsLimit);\r\n    },\r\n    buttonText() {\r\n      return this.reviewsLimit === this.reviews.length\r\n        ? \"Cвернуть\"\r\n        : \"Читать еще...\";\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    toggleReviews() {\r\n      if (this.reviewsLimit === this.reviews.length) {\r\n        this.reviewsLimit = 2;\r\n        return;\r\n      }\r\n      this.reviewsLimit = this.reviews.length;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/scss/variables\";\r\n.reviews {\r\n  margin-top: 20px;\r\n  background: $card-bg;\r\n  padding: 0 2px;\r\n\r\n  &__heading {\r\n    padding: 20px 20px 10px;\r\n  }\r\n\r\n  &__title {\r\n    text-transform: uppercase;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  &__rating {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  &__show-more {\r\n    background: none;\r\n    border: none;\r\n    cursor: pointer;\r\n    width: 100%;\r\n    padding: 12px;\r\n    font-family: inherit;\r\n    font-size: 16px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;EACWA,KAAK,EAAC;AAAS;;EACjBA,KAAK,EAAC;AAAkB;gEAC3BC,mBAAA,CAAiD;EAA7CD,KAAK,EAAC;AAAgB,GAAC,mBAAiB;;EACvCA,KAAK,EAAC;AAAiB;;;;uBAHhCE,mBAAA,CAgBU,WAhBVC,UAgBU,GAfRF,mBAAA,CAMM,OANNG,UAMM,GALJC,UAAiD,EACjDJ,mBAAA,CAGM,OAHNK,UAGM,GAFJL,mBAAA,CAA6C,cAAAM,gBAAA,CAApCC,QAAA,CAAAC,eAAe,IAAG,aAAW,MACtCC,YAAA,CAAoCC,qBAAA;IAAvBC,MAAM,EAAEJ,QAAA,CAAAK;EAAW,wB,wBAGpCX,mBAAA,CAIEY,SAAA,QAAAC,WAAA,CAHiBP,QAAA,CAAAQ,aAAa,EAAvBC,MAAM;yBADfC,YAAA,CAIEC,sBAAA;MAFCC,GAAG,EAAEH,MAAM,CAACI,MAAM;MAClBJ,MAAM,EAAEA;;aAEXhB,mBAAA,CAES;IAFAqB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEhB,QAAA,CAAAiB,aAAA,IAAAjB,QAAA,CAAAiB,aAAA,IAAAD,IAAA,CAAa;IAAExB,KAAK,EAAC;sBAChCQ,QAAA,CAAAkB,UAAU,M"},"metadata":{},"sourceType":"module","externalDependencies":[]}