{"ast":null,"code":"import ApartmentsItem from \"../../components/apartment/ApartmentsItem.vue\";\nimport ApartmentsList from \"../../components/apartment/ApartmentsList.vue\";\nimport ApartmentFilterForm from \"../../components/apartment/ApartmentFilterForm.vue\";\nimport apartments from \"../../components/apartment/apartments\";\nimport ContainerList from \"../../components/shared/ContainerList.vue\";\n// import { getApartmentsList } from \"../services/apartments.service\";\n\nexport default {\n  name: \"HomePage\",\n  components: {\n    ApartmentsList,\n    ApartmentsItem,\n    ApartmentFilterForm,\n    ContainerList\n  },\n  data() {\n    return {\n      text: \"\",\n      apartments,\n      filters: {\n        city: \"\",\n        price: 0\n      }\n    };\n  },\n  computed: {\n    filteredApartments() {\n      return this.filterByCityName(this.filterByPrice(this.apartments));\n    }\n  },\n  // async created() {\n  //   try {\n  //     const { data } = await getApartmentsList();\n  //     this.apartments = data;\n  //   } catch (error) {\n  //     console.error(error);\n  //   }\n  // },\n  methods: {\n    filter({\n      city,\n      price\n    }) {\n      if (city !== undefined) {\n        this.filters.city = city;\n      }\n      if (price !== undefined) {\n        this.filters.price = price;\n      }\n    },\n    filterByCityName(apartments) {\n      if (!this.filters.city) return apartments;\n      return apartments.filter(apartment => {\n        return apartment.location.city === this.filters.city;\n      });\n    },\n    filterByPrice(apartments) {\n      if (!this.filters.price) return apartments;\n      return apartments.filter(apartment => {\n        return apartment.price >= this.filters.price;\n      });\n    }\n  }\n};","map":{"version":3,"names":["ApartmentsItem","ApartmentsList","ApartmentFilterForm","apartments","ContainerList","name","components","data","text","filters","city","price","computed","filteredApartments","filterByCityName","filterByPrice","methods","filter","undefined","apartment","location"],"sources":["D:\\System\\Users\\Semenov\\Documents\\GitHub\\untitled-vue\\src\\pages\\HomePage.vue"],"sourcesContent":["<template>\r\n  <main class=\"homepage\">\r\n    <ContainerList>\r\n      <ApartmentFilterForm class=\"apartments-filter\" @submit=\"filter\" />\r\n    </ContainerList>\r\n    <ContainerList>\r\n      <p v-if=\"!filteredApartments.length\">Not found</p>\r\n      <ApartmentsList v-else :items=\"filteredApartments\">\r\n        <template v-slot:apartment=\"{ apartment }\">\r\n          <ApartmentsItem\r\n            :key=\"apartment.id\"\r\n            :id=\"apartment.id\"\r\n            :descr=\"apartment.descr\"\r\n            :rating=\"apartment.rating\"\r\n            :imgUrl=\"apartment.imgUrl\"\r\n            :price=\"apartment.price\"\r\n          />\r\n        </template>\r\n      </ApartmentsList>\r\n    </ContainerList>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport ApartmentsItem from \"../../components/apartment/ApartmentsItem.vue\";\r\nimport ApartmentsList from \"../../components/apartment/ApartmentsList.vue\";\r\nimport ApartmentFilterForm from \"../../components/apartment/ApartmentFilterForm.vue\";\r\nimport apartments from \"../../components/apartment/apartments\";\r\nimport ContainerList from \"../../components/shared/ContainerList.vue\";\r\n// import { getApartmentsList } from \"../services/apartments.service\";\r\n\r\nexport default {\r\n  name: \"HomePage\",\r\n  components: {\r\n    ApartmentsList,\r\n    ApartmentsItem,\r\n    ApartmentFilterForm,\r\n    ContainerList,\r\n  },\r\n  data() {\r\n    return {\r\n      text: \"\",\r\n      apartments,\r\n      filters: {\r\n        city: \"\",\r\n        price: 0,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    filteredApartments() {\r\n      return this.filterByCityName(this.filterByPrice(this.apartments));\r\n    },\r\n  },\r\n  // async created() {\r\n  //   try {\r\n  //     const { data } = await getApartmentsList();\r\n  //     this.apartments = data;\r\n  //   } catch (error) {\r\n  //     console.error(error);\r\n  //   }\r\n  // },\r\n  methods: {\r\n    filter({ city, price }) {\r\n      if (city !== undefined) {\r\n        this.filters.city = city;\r\n      }\r\n      if (price !== undefined) {\r\n        this.filters.price = price;\r\n      }\r\n    },\r\n    filterByCityName(apartments) {\r\n      if (!this.filters.city) return apartments;\r\n\r\n      return apartments.filter((apartment) => {\r\n        return apartment.location.city === this.filters.city;\r\n      });\r\n    },\r\n    filterByPrice(apartments) {\r\n      if (!this.filters.price) return apartments;\r\n\r\n      return apartments.filter((apartment) => {\r\n        return apartment.price >= this.filters.price;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.apartments-filter {\r\n  margin-bottom: 40px;\r\n}\r\n</style>\r\n"],"mappings":"AAwBA,OAAOA,cAAa,MAAO,+CAA+C;AAC1E,OAAOC,cAAa,MAAO,+CAA+C;AAC1E,OAAOC,mBAAkB,MAAO,oDAAoD;AACpF,OAAOC,UAAS,MAAO,uCAAuC;AAC9D,OAAOC,aAAY,MAAO,2CAA2C;AACrE;;AAEA,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVL,cAAc;IACdD,cAAc;IACdE,mBAAmB;IACnBE;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRL,UAAU;MACVM,OAAO,EAAE;QACPC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE;MACT;IACF,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,kBAAkBA,CAAA,EAAG;MACnB,OAAO,IAAI,CAACC,gBAAgB,CAAC,IAAI,CAACC,aAAa,CAAC,IAAI,CAACZ,UAAU,CAAC,CAAC;IACnE;EACF,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAa,OAAO,EAAE;IACPC,MAAMA,CAAC;MAAEP,IAAI;MAAEC;IAAM,CAAC,EAAE;MACtB,IAAID,IAAG,KAAMQ,SAAS,EAAE;QACtB,IAAI,CAACT,OAAO,CAACC,IAAG,GAAIA,IAAI;MAC1B;MACA,IAAIC,KAAI,KAAMO,SAAS,EAAE;QACvB,IAAI,CAACT,OAAO,CAACE,KAAI,GAAIA,KAAK;MAC5B;IACF,CAAC;IACDG,gBAAgBA,CAACX,UAAU,EAAE;MAC3B,IAAI,CAAC,IAAI,CAACM,OAAO,CAACC,IAAI,EAAE,OAAOP,UAAU;MAEzC,OAAOA,UAAU,CAACc,MAAM,CAAEE,SAAS,IAAK;QACtC,OAAOA,SAAS,CAACC,QAAQ,CAACV,IAAG,KAAM,IAAI,CAACD,OAAO,CAACC,IAAI;MACtD,CAAC,CAAC;IACJ,CAAC;IACDK,aAAaA,CAACZ,UAAU,EAAE;MACxB,IAAI,CAAC,IAAI,CAACM,OAAO,CAACE,KAAK,EAAE,OAAOR,UAAU;MAE1C,OAAOA,UAAU,CAACc,MAAM,CAAEE,SAAS,IAAK;QACtC,OAAOA,SAAS,CAACR,KAAI,IAAK,IAAI,CAACF,OAAO,CAACE,KAAK;MAC9C,CAAC,CAAC;IACJ;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}